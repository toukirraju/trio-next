{"version":3,"file":"Dialog.jsx","sourceRoot":"","sources":["Dialog.tsx"],"names":[],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport {\n  useFloating,\n  useClick,\n  useDismiss,\n  useRole,\n  useInteractions,\n  useMergeRefs,\n  FloatingPortal,\n  FloatingFocusManager,\n  FloatingOverlay,\n  useId,\n  useTransitionStatus,\n  useTransitionStyles\n} from '@floating-ui/react';\n\ninterface DialogOptions {\n  initialOpen?: boolean;\n  open?: boolean;\n  onOpenChange?: (open: boolean) => void;\n}\n\nexport function useDialog({\n  initialOpen = false,\n  open: controlledOpen,\n  onOpenChange: setControlledOpen\n}: DialogOptions = {}) {\n  const [uncontrolledOpen, setUncontrolledOpen] = React.useState(initialOpen);\n  const [labelId, setLabelId] = React.useState<string | undefined>();\n  const [descriptionId, setDescriptionId] = React.useState<string | undefined>();\n\n  const open = controlledOpen ?? uncontrolledOpen;\n  const setOpen = setControlledOpen ?? setUncontrolledOpen;\n\n  const data = useFloating({\n    open,\n    onOpenChange: setOpen\n  });\n\n  const context = data.context;\n\n  const click = useClick(context, {\n    enabled: controlledOpen == null\n  });\n  const dismiss = useDismiss(context, { outsidePressEvent: 'mousedown' });\n  const role = useRole(context);\n\n  const interactions = useInteractions([click, dismiss, role]);\n\n  return React.useMemo(\n    () => ({\n      open,\n      setOpen,\n      ...interactions,\n      ...data,\n      labelId,\n      descriptionId,\n      setLabelId,\n      setDescriptionId\n    }),\n    [open, setOpen, interactions, data, labelId, descriptionId]\n  );\n}\n\ntype ContextType =\n  | (ReturnType<typeof useDialog> & {\n      setLabelId: React.Dispatch<React.SetStateAction<string | undefined>>;\n      setDescriptionId: React.Dispatch<React.SetStateAction<string | undefined>>;\n    })\n  | null;\n\nconst DialogContext = React.createContext<ContextType>(null);\n\nexport const useDialogContext = () => {\n  const context = React.useContext(DialogContext);\n\n  if (context == null) {\n    throw new Error('Dialog components must be wrapped in <Dialog />');\n  }\n\n  return context;\n};\n\nexport function Dialog({\n  children,\n  ...options\n}: {\n  children: React.ReactNode;\n} & DialogOptions) {\n  const dialog = useDialog(options);\n  return <DialogContext.Provider value={dialog}>{children}</DialogContext.Provider>;\n}\n\ninterface DialogTriggerProps {\n  children: React.ReactNode;\n  asChild?: boolean;\n}\n\nexport const DialogTrigger = React.forwardRef<\n  HTMLElement,\n  React.HTMLProps<HTMLElement> & DialogTriggerProps\n>(function DialogTrigger({ children, asChild = false, ...props }, propRef) {\n  const context = useDialogContext();\n  const childrenRef = (children as any).ref;\n  const ref = useMergeRefs([context.refs.setReference, propRef, childrenRef]);\n\n  // `asChild` allows the user to pass any element as the anchor\n  if (asChild && React.isValidElement(children)) {\n    return React.cloneElement(\n      children,\n      context.getReferenceProps({\n        ref,\n        ...props,\n        ...children.props,\n        'data-state': context.open ? 'open' : 'closed'\n      })\n    );\n  }\n\n  return (\n    <button\n      type=\"button\"\n      ref={ref}\n      // The user can style the trigger based on the state\n      data-state={context.open ? 'open' : 'closed'}\n      {...context.getReferenceProps(props)}\n    >\n      {children}\n    </button>\n  );\n});\n\nexport const DialogContent = React.forwardRef<HTMLDivElement, React.HTMLProps<HTMLDivElement>>(\n  function DialogContent(props, propRef) {\n    const { context: floatingContext, ...context } = useDialogContext();\n    const ref = useMergeRefs([context.refs.setFloating, propRef]);\n\n    const { isMounted, status } = useTransitionStatus(floatingContext, {\n      duration: 500 // Adjust as needed\n    });\n\n    const { styles: transitionStyles } = useTransitionStyles(floatingContext, {\n      duration: 500, // Adjust as needed\n      initial: {\n        opacity: 0,\n        transform: 'scale(1)'\n      },\n      open: {\n        opacity: 1,\n        transform: 'scale(1)'\n      },\n      close: {\n        opacity: 0,\n        transform: 'scale(0.50)'\n      }\n    });\n\n    if (!isMounted) return null;\n\n    return (\n      <FloatingPortal>\n        <FloatingOverlay\n          className={`grid place-items-center bg-black/50 z-50 transition-opacity duration-300 ${\n            status === 'open' ? 'opacity-100' : 'opacity-0'\n          }`}\n          lockScroll\n        >\n          <FloatingFocusManager context={floatingContext}>\n            <div\n              ref={ref}\n              aria-labelledby={context.labelId}\n              aria-describedby={context.descriptionId}\n              style={transitionStyles}\n              {...context.getFloatingProps(props)}\n            >\n              {props.children}\n            </div>\n          </FloatingFocusManager>\n        </FloatingOverlay>\n      </FloatingPortal>\n    );\n  }\n);\n\nexport const DialogHeading = React.forwardRef<\n  HTMLHeadingElement,\n  React.HTMLProps<HTMLHeadingElement>\n>(function DialogHeading({ children, ...props }, ref) {\n  const { setLabelId } = useDialogContext();\n  const id = useId();\n\n  // Only sets `aria-labelledby` on the Dialog root element\n  // if this component is mounted inside it.\n  React.useLayoutEffect(() => {\n    setLabelId(id);\n    return () => setLabelId(undefined);\n  }, [id, setLabelId]);\n\n  return (\n    <h2 {...props} ref={ref} id={id}>\n      {children}\n    </h2>\n  );\n});\n\nexport const DialogDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLProps<HTMLParagraphElement>\n>(function DialogDescription({ children, ...props }, ref) {\n  const { setDescriptionId } = useDialogContext();\n  const id = useId();\n\n  // Only sets `aria-describedby` on the Dialog root element\n  // if this component is mounted inside it.\n  React.useLayoutEffect(() => {\n    setDescriptionId(id);\n    return () => setDescriptionId(undefined);\n  }, [id, setDescriptionId]);\n\n  return (\n    <p {...props} ref={ref} id={id}>\n      {children}\n    </p>\n  );\n});\n\nexport const DialogClose = React.forwardRef<\n  HTMLButtonElement,\n  React.ButtonHTMLAttributes<HTMLButtonElement>\n>(function DialogClose(props, ref) {\n  const { setOpen } = useDialogContext();\n  return <button type=\"button\" {...props} ref={ref} onClick={() => setOpen(false)} />;\n});\n"]}